<Page navigatingTo="onNavigatingTo">
  <ActionBar title="Mes Rendez-vous">
    <ActionItem tap="{{ onAddAppointment }}"
                ios.position="right"
                android.position="actionBar">
      <Label text="+" class="action-item" />
    </ActionItem>
  </ActionBar>

  <GridLayout rows="auto, *">
    <SegmentedBar row="0" items="{{ segments }}" 
                  selectedIndex="{{ selectedIndex }}" />
                  
    <ListView row="1" items="{{ appointments }}" 
             itemTap="{{ onAppointmentTap }}">
      <ListView.itemTemplate>
        <StackLayout class="appointment-card">
          <Label text="{{ date }}" class="appointment-date" />
          <Label text="{{ serviceName }}" class="appointment-service" />
          <Label text="{{ time }}" class="appointment-time" />
          <Button text="Annuler" tap="{{ $parent.onCancelAppointment }}"
                  class="btn-cancel" visibility="{{ canCancel ? 'visible' : 'collapsed' }}" />
        </StackLayout>
      </ListView.itemTemplate>
    </ListView>
  </GridLayout>
</Page>